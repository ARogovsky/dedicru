<!DOCTYPE html>
<html class="no-js" lang="ru-RU">

	<head>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		

		<title>Наследие — Страница 5 — DEDIC.RU: наследие об организации хостинга</title>
<link rel="dns-prefetch" href="//s.w.org">



<link rel="stylesheet" id="wp-block-library-css" href="http://dedic.ru/wp-includes/css/dist/block-library/style.min.css" media="all">
<link rel="stylesheet" id="twentytwenty-style-css" href="http://dedic.ru/wp-content/themes/twentytwenty/style.css" media="all">
<style id="twentytwenty-style-inline-css">
.color-accent,.color-accent-hover:hover,.color-accent-hover:focus,:root .has-accent-color,.has-drop-cap:not(:focus):first-letter,.wp-block-button.is-style-outline,a { color: #cd2653; }blockquote,.border-color-accent,.border-color-accent-hover:hover,.border-color-accent-hover:focus { border-color: #cd2653; }button,.button,.faux-button,.wp-block-button__link,.wp-block-file .wp-block-file__button,input[type="button"],input[type="reset"],input[type="submit"],.bg-accent,.bg-accent-hover:hover,.bg-accent-hover:focus,:root .has-accent-background-color,.comment-reply-link { background-color: #cd2653; }.fill-children-accent,.fill-children-accent * { fill: #cd2653; }body,.entry-title a,:root .has-primary-color { color: #000000; }:root .has-primary-background-color { background-color: #000000; }cite,figcaption,.wp-caption-text,.post-meta,.entry-content .wp-block-archives li,.entry-content .wp-block-categories li,.entry-content .wp-block-latest-posts li,.wp-block-latest-comments__comment-date,.wp-block-latest-posts__post-date,.wp-block-embed figcaption,.wp-block-image figcaption,.wp-block-pullquote cite,.comment-metadata,.comment-respond .comment-notes,.comment-respond .logged-in-as,.pagination .dots,.entry-content hr:not(.has-background),hr.styled-separator,:root .has-secondary-color { color: #6d6d6d; }:root .has-secondary-background-color { background-color: #6d6d6d; }pre,fieldset,input,textarea,table,table *,hr { border-color: #dcd7ca; }caption,code,code,kbd,samp,.wp-block-table.is-style-stripes tbody tr:nth-child(odd),:root .has-subtle-background-background-color { background-color: #dcd7ca; }.wp-block-table.is-style-stripes { border-bottom-color: #dcd7ca; }.wp-block-latest-posts.is-grid li { border-top-color: #dcd7ca; }:root .has-subtle-background-color { color: #dcd7ca; }body:not(.overlay-header) .primary-menu > li > a,body:not(.overlay-header) .primary-menu > li > .icon,.modal-menu a,.footer-menu a, .footer-widgets a,#site-footer .wp-block-button.is-style-outline,.wp-block-pullquote:before,.singular:not(.overlay-header) .entry-header a,.archive-header a,.header-footer-group .color-accent,.header-footer-group .color-accent-hover:hover { color: #cd2653; }.social-icons a,#site-footer button:not(.toggle),#site-footer .button,#site-footer .faux-button,#site-footer .wp-block-button__link,#site-footer .wp-block-file__button,#site-footer input[type="button"],#site-footer input[type="reset"],#site-footer input[type="submit"] { background-color: #cd2653; }.header-footer-group,body:not(.overlay-header) #site-header .toggle,.menu-modal .toggle { color: #000000; }body:not(.overlay-header) .primary-menu ul { background-color: #000000; }body:not(.overlay-header) .primary-menu > li > ul:after { border-bottom-color: #000000; }body:not(.overlay-header) .primary-menu ul ul:after { border-left-color: #000000; }.site-description,body:not(.overlay-header) .toggle-inner .toggle-text,.widget .post-date,.widget .rss-date,.widget_archive li,.widget_categories li,.widget cite,.widget_pages li,.widget_meta li,.widget_nav_menu li,.powered-by-wordpress,.to-the-top,.singular .entry-header .post-meta,.singular:not(.overlay-header) .entry-header .post-meta a { color: #6d6d6d; }.header-footer-group pre,.header-footer-group fieldset,.header-footer-group input,.header-footer-group textarea,.header-footer-group table,.header-footer-group table *,.footer-nav-widgets-wrapper,#site-footer,.menu-modal nav *,.footer-widgets-outer-wrapper,.footer-top { border-color: #dcd7ca; }.header-footer-group table caption,body:not(.overlay-header) .header-inner .toggle-wrapper::before { background-color: #dcd7ca; }
body,input,textarea,button,.button,.faux-button,.wp-block-button__link,.wp-block-file__button,.has-drop-cap:not(:focus)::first-letter,.has-drop-cap:not(:focus)::first-letter,.entry-content .wp-block-archives,.entry-content .wp-block-categories,.entry-content .wp-block-cover-image,.entry-content .wp-block-latest-comments,.entry-content .wp-block-latest-posts,.entry-content .wp-block-pullquote,.entry-content .wp-block-quote.is-large,.entry-content .wp-block-quote.is-style-large,.entry-content .wp-block-archives *,.entry-content .wp-block-categories *,.entry-content .wp-block-latest-posts *,.entry-content .wp-block-latest-comments *,.entry-content p,.entry-content ol,.entry-content ul,.entry-content dl,.entry-content dt,.entry-content cite,.entry-content figcaption,.entry-content .wp-caption-text,.comment-content p,.comment-content ol,.comment-content ul,.comment-content dl,.comment-content dt,.comment-content cite,.comment-content figcaption,.comment-content .wp-caption-text,.widget_text p,.widget_text ol,.widget_text ul,.widget_text dl,.widget_text dt,.widget-content .rssSummary,.widget-content cite,.widget-content figcaption,.widget-content .wp-caption-text { font-family: 'Helvetica Neue',Helvetica,'Segoe UI',Arial,sans-serif; }
</style>
<link rel="stylesheet" id="twentytwenty-print-style-css" href="http://dedic.ru/wp-content/themes/twentytwenty/print.css" media="print">
<script src="http://dedic.ru/wp-content/themes/twentytwenty/assets/js/index.js" async></script>



	<script>document.documentElement.className = document.documentElement.className.replace( 'no-js', 'js' );</script>
	<link rel="icon" href="http://dedic.ru/wp-content/uploads/2020/06/cropped-16b3d258-b9f4-4c6b-8f06-9dd027ad4f8e_200x200-32x32.png" sizes="32x32">
<link rel="icon" href="http://dedic.ru/wp-content/uploads/2020/06/cropped-16b3d258-b9f4-4c6b-8f06-9dd027ad4f8e_200x200-192x192.png" sizes="192x192">
<link rel="apple-touch-icon" href="http://dedic.ru/wp-content/uploads/2020/06/cropped-16b3d258-b9f4-4c6b-8f06-9dd027ad4f8e_200x200-180x180.png">
<meta name="msapplication-TileImage" content="http://dedic.ru/wp-content/uploads/2020/06/cropped-16b3d258-b9f4-4c6b-8f06-9dd027ad4f8e_200x200-270x270.png">

	</head>

	<body class="archive paged category category-1 wp-custom-logo wp-embed-responsive paged-5 category-paged-5 enable-search-modal has-no-pagination showing-comments show-avatars footer-top-visible">

		<a class="skip-link screen-reader-text" href="#site-content">Перейти к содержимому</a>
		<header id="site-header" class="header-footer-group" role="banner">

			<div class="header-inner section-inner">

				<div class="header-titles-wrapper">

					
						<button class="toggle search-toggle mobile-search-toggle" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false">
							<span class="toggle-inner">
								<span class="toggle-icon">
									<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewbox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)"></path></svg>								</span>
								<span class="toggle-text">Поиск</span>
							</span>
						</button>

					
					<div class="header-titles">

						<div class="site-logo faux-heading"><a href="http://dedic.ru/" class="custom-logo-link" rel="home"><img width="275" height="309" src="http://dedic.ru/wp-content/uploads/2020/06/cropped-dedic-logo.png" class="custom-logo" alt="DEDIC.RU: наследие об организации хостинга" srcset="http://dedic.ru/wp-content/uploads/2020/06/cropped-dedic-logo.png 275w,http://dedic.ru/wp-content/uploads/2020/06/cropped-dedic-logo-267x300.png 267w" sizes="(max-width: 275px) 100vw, 275px"></a><span class="screen-reader-text">DEDIC.RU: наследие об организации хостинга</span></div><div class="site-description">Мемуары о системном администрировании хостинга выделенных серверов</div>
					</div>

					<button class="toggle nav-toggle mobile-nav-toggle" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".close-nav-toggle">
						<span class="toggle-inner">
							<span class="toggle-icon">
								<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="26" height="7" viewbox="0 0 26 7"><path fill-rule="evenodd" d="M332.5,45 C330.567003,45 329,43.4329966 329,41.5 C329,39.5670034 330.567003,38 332.5,38 C334.432997,38 336,39.5670034 336,41.5 C336,43.4329966 334.432997,45 332.5,45 Z M342,45 C340.067003,45 338.5,43.4329966 338.5,41.5 C338.5,39.5670034 340.067003,38 342,38 C343.932997,38 345.5,39.5670034 345.5,41.5 C345.5,43.4329966 343.932997,45 342,45 Z M351.5,45 C349.567003,45 348,43.4329966 348,41.5 C348,39.5670034 349.567003,38 351.5,38 C353.432997,38 355,39.5670034 355,41.5 C355,43.4329966 353.432997,45 351.5,45 Z" transform="translate(-329 -38)"></path></svg>							</span>
							<span class="toggle-text">Меню</span>
						</span>
					</button>

				</div>

				<div class="header-navigation-wrapper">

					
							<nav class="primary-menu-wrapper" aria-label="Горизонтальное" role="navigation">

								<ul class="primary-menu reset-list-style">

								<li class="page_item page-item-111"><a href="http://dedic.ru/%d0%be-%d0%bf%d1%80%d0%be%d0%b5%d0%ba%d1%82%d0%b5-%d0%b4%d0%b5%d0%b4%d0%b8%d0%ba-%d1%80%d1%83/">О проекте Дедик.ру</a></li>

								</ul>

							</nav>

						
						<div class="header-toggles hide-no-js">

						
							<div class="toggle-wrapper search-toggle-wrapper">

								<button class="toggle search-toggle desktop-search-toggle" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false">
									<span class="toggle-inner">
										<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewbox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)"></path></svg>										<span class="toggle-text">Поиск</span>
									</span>
								</button>

							</div>

							
						</div>
						
				</div>

			</div>

			<div class="search-modal cover-modal header-footer-group" data-modal-target-string=".search-modal">

	<div class="search-modal-inner modal-inner">

		<div class="section-inner">

			<form role="search" aria-label="Поиск:" method="get" class="search-form" action="http://dedic.ru/">
	<label for="search-form-1">
		<span class="screen-reader-text">Поиск:</span>
		<input type="search" id="search-form-1" class="search-field" placeholder="Найти …" value="" name="s">
	</label>
	<input type="submit" class="search-submit" value="Искать">
</form>

			<button class="toggle search-untoggle close-search-toggle fill-children-current-color" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false">
				<span class="screen-reader-text">Закрыть поиск</span>
				<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102"></polygon></svg>			</button>

		</div>

	</div>

</div>

		</header>

		
<div class="menu-modal cover-modal header-footer-group" data-modal-target-string=".menu-modal">

	<div class="menu-modal-inner modal-inner">

		<div class="menu-wrapper section-inner">

			<div class="menu-top">

				<button class="toggle close-nav-toggle fill-children-current-color" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".menu-modal">
					<span class="toggle-text">Закрыть меню</span>
					<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102"></polygon></svg>				</button>

				
					<nav class="mobile-menu" aria-label="Мобильные" role="navigation">

						<ul class="modal-menu reset-list-style">

						<li class="page_item page-item-111"><div class="ancestor-wrapper"><a href="http://dedic.ru/%d0%be-%d0%bf%d1%80%d0%be%d0%b5%d0%ba%d1%82%d0%b5-%d0%b4%d0%b5%d0%b4%d0%b8%d0%ba-%d1%80%d1%83/">О проекте Дедик.ру</a></div></li>

						</ul>

					</nav>

					
			</div>

			<div class="menu-bottom">

				
			</div>

		</div>

	</div>

</div>

<main id="site-content" role="main">

	
		<header class="archive-header has-text-align-center header-footer-group">

			<div class="archive-header-inner section-inner medium">

									<h1 class="archive-title"><span class="color-accent">Рубрика:</span> Наследие</h1>
				
				
			</div>

		</header>

		
<article class="post-34 post type-post status-publish format-standard hentry category-1" id="post-34">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Рубрики</span>
				<div class="entry-categories-inner">
					<a href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/" rel="category tag">Наследие</a>				</div>
			</div>

			<h2 class="entry-title heading-size-1"><a href="http://dedic.ru/%d0%b2%d0%be%d1%81%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d1%81%d0%b5%d1%80%d0%b2%d0%b5%d1%80%d0%b0-%d0%bf%d0%be%d1%81%d0%bb%d0%b5-%d0%b2%d0%b7%d0%bb%d0%be%d0%bc%d0%b0/">Восстановление сервера после взлома</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Автор записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							Автор: <a href="http://dedic.ru/author/dedic/">dedic</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Дата записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%b2%d0%be%d1%81%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d1%81%d0%b5%d1%80%d0%b2%d0%b5%d1%80%d0%b0-%d0%bf%d0%be%d1%81%d0%bb%d0%b5-%d0%b2%d0%b7%d0%bb%d0%be%d0%bc%d0%b0/">01.07.2005</a>
						</span>
					</li>
										<li class="post-comment-link meta-wrapper">
						<span class="meta-icon">
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%b2%d0%be%d1%81%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d1%81%d0%b5%d1%80%d0%b2%d0%b5%d1%80%d0%b0-%d0%bf%d0%be%d1%81%d0%bb%d0%b5-%d0%b2%d0%b7%d0%bb%d0%be%d0%bc%d0%b0/#respond">Комментариев<span class="screen-reader-text"> к записи Восстановление сервера после взлома</span> нет</a>						</span>
					</li>
					
			</ul>

		</div>

		
	</div>

</header>

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>Итак, рассмотрим на примере сервера, который был взломан путем закачки эксплоита через ошибку в php скрипте, запуск через него же и получение доступа к shell с правами веб-сервера. Об этом красноречиво свидетельствуют «следы» в директориях, доступных на запись для всех: /tmp, /var/tmp, /dev/shm.<br>
Взлома можно было бы избежать на этом этапе, примонтировав разделы для временных файлов без права запуска, отключением опасных функций php и просто более тщательным кодом в php. Однако ничего этого сделано не было.<br>
Хакер не терял времени даром. Он закачал разнообразные эксплоиты, скомпилировал их и после запуска получил права суперпользователя root, воспользовавшись одной из уязвимостей.<br>
И на этом моменте можно было бы его остановить, отключив wget и компиляторы для непривилегированных пользователей и поставив патч, запрещающий выполнение кода в стеке или libsafe. Но, увы, и это не было сделано.<br>
Ситуация была неоднозначной. С одной стороны — очень важные данные, потеря которых критична, с другой стороны — проблема backdor, когда хакер мог бы зайти с помощью какого-то пользователя или выслав определенный набор пакетов демону, слушающему порт. Было принято решение о восстановлении сервера и дальнейшем тщательным наблюдении за ним.<br>
Отключив ряд процессов, которые явно носили в себе нечто чуждое системе, первым делом был установлен, обновлен и запущен rkhunter — утилита для отлова троянов.<br>
Вывод rkhunter был неутешительный — минимум два руткита, масса измененных бинарников.<br>
В такой ситуации поможет только одно — замена зараженного руткитом бинарника на чистый. Однако необходимо знать, какие именно бинарники заменять. Но тут немного повезло. Хакер поставил на измененные файлы атрибуты, запрещающие изменение, удаление или замену файла при помощи команды chatter. Для неофитов, знакомых только с chmod, это создало бы эффект контроля над системой со стороны хакера — зараженные бинарники не переписываются, хотя права на запись стоят.<br>
Создав список зараженных бинарников, все атрибуты удалось восстановить командами<br>
<code><br>
chattr -iacsuASDd /bin/*<br>
chattr -iacsuASDd /sin/*<br>
chattr -iacsuASDd /sbin/*<br>
chattr -iacsuASDd /usr/sbin/*<br>
chattr -iacsuASDd /usr/bin/*<br>
chattr -iacsuASDd /usr/local/bin/*<br>
chattr -iacsuASDd /usr/local/sbin/*<br>
</code><br>
Однако ряд бинарников, которые не были защищены от изменения, все-таки были заражены. Это показал rkhunter. Таким образом, стало ясно, что это неординарный взломщик, который специально оставил взломанные файлы с целью их восстановления. Соответственно, в системе установлен backdor.<br>
Также не работал ряд команд, хотя rkhunter этого не показал. Например, top не выводил ряд присутствующих в системе процессов. По всей видимости, заражение было на уровне модуля ядра, что обеспечивало стелс-защиту зараженных бинарников.<br>
Однако хакер не предусмотрел, что в rpm-based дистрибутивах Linux есть возможность узнать, был ли изменен файл или нет при помощи rpm.<br>
Методика достаточно проста — сначала узнаем, где расположен подозрительный бинарник, например:<br>
<code><br>
which top<br>
</code><br>
Эта команда выдаст полный путь к утилите top — /usr/bin/top. Теперь с помощью rpm узнаем, к какому пакету относится данный файл:<br>
<code><br>
rpm -qf /usr/bin/top<br>
</code><br>
Эта команда сообщит, что утилита top входит в пакет procps. Переустановим его с помощью менеджера apt командой:<br>
<code><br>
apt-get --reinstall install procps<br>
</code><br>
Во время установки было сообщение, что предыдущий top был слинкован с библиотекой /lib/libext-2.so.7. Возможно, это и есть часть стелс-механизма. Запросив с помощью rpm информацию об библиотеке<br>
<code><br>
rpm -qf /lib/libext-2.so.7<br>
</code><br>
была получена информация, что данный файл не является частью системы. Естественно, что он был удален:<br>
<code><br>
chattr -iacsuASDd /lib/*<br>
rm /lib/libext-2.so.7<br>
</code><br>
Далее обнаружилось несколько скрытых процессов, которые были убиты с помощью утилиты killall.<br>
Естественно, что переустановить пришлось не только procps, но и ряд других пакетов, подозреваемых во взломе: util-linux, psmisc, net-tools, kernel, dev, initscripts и многие другие.<br>
После замены ядра сервер был перезагружен и была проведена проверка изменения всех файлов с помощью команды<br>
<code><br>
rpm -Va<br>
</code><br>
Были замечены косвенные признаки наличия в системе backdor. После небольшого исследования системы бэкдор был обнаружен. Также было обнаружено, что у всех системных пользователей сменена оболочка на /bin/sh. Таким образом, это позволяло обратиться к backdor от имени любого пользователя. Для избегания такой ситуации был отключен ряд нежелательных сервисов и создан новый пользователь, который может заходить по сети в оболочку через ssh. Все остальные были отключены.<br>
В настоящее время не замечено никаких попыток несанкционированного доступа, что свидетельствует о весьма высоком уровне взломщика и нежелании его засветиться.</p>
<p>Данная история описана с согласия владельца взломанного сервера. По его словам, все что он сделал, это добавил поддержку php в apache. О том, к каким последствиям это может привести, он даже и не подозревал.</p>
<p>Будьте бдительны! Во время летних каникул происходит очень много взломов. Защищайте свой выделенный сервер до того, как его взломают. Предотвращайте взлом на разных уровнях. И главное — периодически проверяйте содержимое каталогов для временных файлов. Возможно, что там уже что-то есть.<br>
Особенно остерегайтесь файлов, начинающихся с точки или состоящих из одних пробелов, — это прямое свидетельство успешного взлома.</p>

		</div>

	</div>

	<div class="section-inner">
		
	</div>

	
</article>
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true">
<article class="post-30 post type-post status-publish format-standard hentry category-1" id="post-30">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Рубрики</span>
				<div class="entry-categories-inner">
					<a href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/" rel="category tag">Наследие</a>				</div>
			</div>

			<h2 class="entry-title heading-size-1"><a href="http://dedic.ru/%d0%b1%d0%be%d1%80%d1%8c%d0%b1%d0%b0-%d1%81%d0%be-%d1%81%d0%bf%d0%b0%d0%bc%d0%be%d0%bc-%d0%be%d1%82-nobody-sendmail-warper/">Борьба со спамом от nobody — sendmail warper.</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Автор записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							Автор: <a href="http://dedic.ru/author/dedic/">dedic</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Дата записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%b1%d0%be%d1%80%d1%8c%d0%b1%d0%b0-%d1%81%d0%be-%d1%81%d0%bf%d0%b0%d0%bc%d0%be%d0%bc-%d0%be%d1%82-nobody-sendmail-warper/">25.06.2005</a>
						</span>
					</li>
										<li class="post-comment-link meta-wrapper">
						<span class="meta-icon">
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%b1%d0%be%d1%80%d1%8c%d0%b1%d0%b0-%d1%81%d0%be-%d1%81%d0%bf%d0%b0%d0%bc%d0%be%d0%bc-%d0%be%d1%82-nobody-sendmail-warper/#respond">Комментариев<span class="screen-reader-text"> к записи Борьба со спамом от nobody — sendmail warper.</span> нет</a>						</span>
					</li>
					
			</ul>

		</div>

		
	</div>

</header>

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>Очень важно знать, кто и сколько отсылает почты, так как держать спамера у себя на сервере опасно, так как дата-центры запросто закрывают такие серверы. Особенно важно контролировать отправку с сервера с помощью sendmail различными скриптами.<br>
Обычный лог MTA не может помочь, так как не показывает, откуда было обращение к  sendmail.</p>
<p>Для начала необходимо остановить MTA, затем переименовать и переместить бинарник sendmail, например, в /bin/xyz.<br>
После этого создать скрипт вместо sendmail:<br>
<code><br>
#!/usr/local/bin/perl</code></p>
<p># use strict;<br>
use Env;<br>
my $date = `date`;<br>
chomp $date;<br>
open (INFO, ">>/var/log/spam_log") || die "Failed to open file ::$!";<br>
my $uid = $>;<br>
my @info = getpwuid($uid);<br>
if($REMOTE_ADDR) {<br>
print INFO "$date - $REMOTE_ADDR ran $SCRIPT_NAME at $SERVER_NAME n";<br>
 }<br>
 else {<br>
        print INFO "$date - $PWD -  @infon/n/n";<br>
 }<br>
 my $mailprog = '/bin/xyz';<br>
 foreach  (@ARGV) {<br>
         $arg="$arg" . " $_";<br>
 }</p>
<p>open (MAIL,"|$mailprog $arg") || die "cannot open $mailprog: $!n";<br>
 while (<stdin> ) {<br>
         print MAIL;<br>
 }<br>
 close (INFO);<br>
 close (MAIL);<br>
</stdin></p>
<p>Затем создать лог-файл, который будет содержать историю обращения к sendmail:<br>
<code><br>
touch /var/log/spam_log<br>
chmod 0777 /var/log/spam_log<br>
</code><br>
Step 7) </p>
<p>Теперь вся история отправления почтовых сообщений будет записана в удобном для анализа виде.<br>
Также для опытных программистов на perl будет не сложно добавить, например, лимиты на отправку исходящих сообщений и информировать пользователей в случае приближения к лимиту.</p>

		</div>

	</div>

	<div class="section-inner">
		
	</div>

	
</article>
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true">
<article class="post-29 post type-post status-publish format-standard hentry category-1" id="post-29">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Рубрики</span>
				<div class="entry-categories-inner">
					<a href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/" rel="category tag">Наследие</a>				</div>
			</div>

			<h2 class="entry-title heading-size-1"><a href="http://dedic.ru/%d0%b1%d1%80%d0%b5%d0%bd%d0%b4%d0%b8%d0%bd%d0%b3-%d1%85%d0%be%d1%81%d1%82%d0%b8%d0%bd%d0%b3%d0%b0/">Брендинг хостинга</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Автор записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							Автор: <a href="http://dedic.ru/author/dedic/">dedic</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Дата записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%b1%d1%80%d0%b5%d0%bd%d0%b4%d0%b8%d0%bd%d0%b3-%d1%85%d0%be%d1%81%d1%82%d0%b8%d0%bd%d0%b3%d0%b0/">15.06.2005</a>
						</span>
					</li>
										<li class="post-comment-link meta-wrapper">
						<span class="meta-icon">
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%b1%d1%80%d0%b5%d0%bd%d0%b4%d0%b8%d0%bd%d0%b3-%d1%85%d0%be%d1%81%d1%82%d0%b8%d0%bd%d0%b3%d0%b0/#respond">Комментариев<span class="screen-reader-text"> к записи Брендинг хостинга</span> нет</a>						</span>
					</li>
					
			</ul>

		</div>

		
	</div>

</header>

	<div class="post-inner thin ">

		<div class="entry-content">

			<p><cite>Если Вы считаете что только большие корпорации нуждаются в собственном бренде, задумайтесь над тем, что множество разнообразных товаров и услуг предоставляются обычными людьми для транснациональных компаний.</cite> Это дизайн, консалтинг, исследования и технологии. Имена этих людей и есть бренд.</p>
<p>Это руководство рассматривает создание своего собственного бренда, который будет пользоватся спросом у определенной части потенциальных клиентов хостинга.<br>
<br>
Ваш бренд должен быть нечто большим чем простым логотипом на сайте или на визитке. Это некоторый уникальный идентификатор, которы позволит выделить Вас среди множества других хостингов.<br>
Бренд хостинга понятие не материальное. Это совокупность уникальности услуг, которые хостинг предоставляет клиентам. Чем больше довольных клиентов, тем более ценным становится бренд.<br>
А ценный бренд предоставляет множество преимуществ. Что толкает потребителя на покупку одежды в фирменных магазинах? Только ценный бренд, который компенсирует высокую стоимость.<br>
Таким образом, доход от хостинга может существовать только за счет синергии продвижения брендинга и качественных услуг.</p>
<h3>Почему нужно создавать свой бренд.</h3>
<p>Об этом частично было написано в вступительной часте где рассматривались преимущества ценного бренда хостинга. Основной целью брендинга хостинга является создание качественного отличая собственного хостинга от сотен и тысяч других. Старые хостинги пропадают и на их месте возникают новые. Остаются только те, которые смогли как-то выступить из общей серой массы и привлечь клиента. Можно тратить деньги на раскрутку сайта, рекламу и PR. А  можно создать свой бренд который будет делать все это за Вас.</p>
<h3>Маркетинг, маркетинг и еще раз маркетинг.</h3>
<p>Еще одной хорошей причиной создания собственного бренда является <strong>сила продажи</strong>, и эта сила работает на Вас более эффективно благодаря бренду.<br>
Представьте себе, что вы бы не могли тратить первую половину своего времени на раскрутку и рекламные компании, на создание пресс-релизов и пиара. Почему бы не предоставить развитие <strong>коммуникационной силы</strong> за счет брендинга хостинга. Ценный бренд у всех на слуху и одно его упоминание ассоциируется у клиентов с ответами на их вопросы.<br>
Еще одно преимущество брендинга это возможность раширения спектра сервисов, косвенно связанных с хостингом. Это может быть студия дизайна, системы управления сайтами и многое другое.<br>
Все это, выпущенное под брендом хостинга автоматически переносит все положительные качества, всю ценность в глазах потенциального клиента на новую продукцию и услуги. Таким образом, собственный бренд — это путь к расширению спектра продукции и услуг.</p>
<h3>Как создать свой бренд</h3>
<p>Итак, бренд необходим. Но что нужно для его создания?<br>
Следует исходить из того что бренд должен говорить кто Вы, что Вы делаете и как. Это необходимо для создания всех тех факторов, которые установят доверительные отношения между хостингом и клиентами. Не требуется говорить что отношения — это наиболее важный аспект, и создавая свой бренд Вы создаете эти отношения. Второй аспект создания бренда — это точнее соответствие всем требованиям потенциальных клиентов. Если Вы чувствуете что не можете предоставить требуемые услуги клиентам, то следует пересмотреть целевую группу или собственную стратегию.<br>
Залог успешного бренда — это доверие клиентов и способность удовлетворить требованием потенциальных клиентов.</p>
<h3>Миссия невыполнима</h3>
<p>Опишите свою миссию — основные ценности своего хостинга. Какие они? Для понимания этого попробуйте почувствовать себя в качестве своего потенциального клиента. Поставьте себя на место целевой аудитории. Вам нужен вебхостинг. Вы готовы купить хостинг, но какие преимущества может предоставить именно этот, Ваш хостинг?<br>
Не следует в первую очередь смотреть на цены. Они могут быть высокими благодаря расходам на организацию многоканальной телефонной поддержки клиентов 24 часа в сутки или внедрением ноу-хау, не имеющего аналогов у конкурентов.<br>
Как на счет разнообразных дополнительных преимуществ хостинга? Нужна ли Вам, как клиенту возможность создания неограниченного числа почтовых ящиков или больше вожна возможность запуска cgi-скриптов на самом низкобюджетном тарифном плане? Или больше важны такие вещи как русскоязычная панель управления? Возможность использования SSL или организации своих листов рассылки?<br>
Одни вещи важны для разных целевых групп и менее важны для других. Таким образом необходимо сфокусировать все свои приемущества, которые максимально соответствуют Вашей целевой группе. Так же присмотритесь к ценовой политике, времени отклика и информативности службы поддержки.</p>
<p>Вас, как потенциального клиента может привлечь сообщение вроде <cite>гарантируется аптайм 99%, 24-х часовая поддержа и возврат денег в 15-ти дневный срок</cite>.<br>
Однако это лишь общее описание. Удалите из него все, что Вы не сможете обеспечить и добавьте свое, то что отличает Ваш хостинг от других. Сфокусируйте описание своей мисси так, чтоб максимально соответствовать выбранной целевой группе.</p>
<p>Когда миссия описана, самое время подойти к созданию бренда, который бы максимально кратко и выразительно описывал миссию потенциальному клиенту. Подумайте так-же о правилах хостинга для отсеивания нежелательных клиентов или для повода отказа в хостинге существующим клиентам.</p>
<p>Когда бренд создан, он нацелен на соответствие определенной целевой аудитории и созданию доверительных отношений. Однако это еще не все. Необходимо грамотно описать свой бренд, выделив все ключевые особенности и положительные характеристики и создав слоган, который бы выражал суть хостинга, цель миссии, и соответсвие целевой аудитории.</p>
<h3>А кто наши клиенты?</h3>
<p>После создания бренда самое время начать повышать его ценность среди определенного круга людей. Но как узнать кто именно является потенциальным клиентом?<br>
Персонализаця — это путь с помощью которого можно наиболее эффективно продвигать бренд. Узнайте о своих клиентах все. Выясните к какой социальной группе они принадлежат, какие у них общие увлечения, проблемы. Найдя определенный сегмент, который соответствует целевой группе необходимо продвигать его именно в этом сегменте. Не стесняйте себя в способах выражения!<br>
Ваш сегмент — это любители экстремальных видов сорта? Бренд размещенный на парашюте способен привлечь множество клиентов, а для любителей дайвинга приятным сюрпризом будет бренд, выложенный цветными ракушками на песчаном дне.<br>
Нестандартный подход может быть очень эффективный.</p>
<h3>А вот мне друг сказал…</h3>
<p>Создайте список своих клиентов и их сайтов. Произведите опрос среди самых значимых — что подвигло стать клиентам Вашего хостинга?<br>
Отзывы — это очень важная черта доверительных отношений. Владелец крупного предприятия, обнаружив положительный отзыв своего знакомого наверняка позвонит ему и уточнит интересующие его аспекты. И в результате станет Вашим клиентом, особенно если ему будет знаком Ваш бренд.</p>
<p><cite>Отличайтесь от других. Не пытайтесь охватить все. Будьте целеустремленны. И у Вас все получится. Удачи!</cite></p>

		</div>

	</div>

	<div class="section-inner">
		
	</div>

	
</article>
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true">
<article class="post-28 post type-post status-publish format-standard hentry category-1" id="post-28">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Рубрики</span>
				<div class="entry-categories-inner">
					<a href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/" rel="category tag">Наследие</a>				</div>
			</div>

			<h2 class="entry-title heading-size-1"><a href="http://dedic.ru/%d0%ba%d0%b0%d0%ba-%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d1%82%d1%8c-%d1%81%d0%b2%d0%be%d0%b9-%d1%85%d0%be%d1%81%d1%82%d0%b8%d0%bd%d0%b3/">Как создать свой хостинг</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Автор записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							Автор: <a href="http://dedic.ru/author/dedic/">dedic</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Дата записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%ba%d0%b0%d0%ba-%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d1%82%d1%8c-%d1%81%d0%b2%d0%be%d0%b9-%d1%85%d0%be%d1%81%d1%82%d0%b8%d0%bd%d0%b3/">15.06.2005</a>
						</span>
					</li>
										<li class="post-comment-link meta-wrapper">
						<span class="meta-icon">
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%ba%d0%b0%d0%ba-%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d1%82%d1%8c-%d1%81%d0%b2%d0%be%d0%b9-%d1%85%d0%be%d1%81%d1%82%d0%b8%d0%bd%d0%b3/#respond">Комментариев<span class="screen-reader-text"> к записи Как создать свой хостинг</span> нет</a>						</span>
					</li>
					
			</ul>

		</div>

		
	</div>

</header>

	<div class="post-inner thin ">

		<div class="entry-content">

			<p><cite>Первая статья из цикла <a href="/dedic/hosting">свой хостинг</a>.</cite></p>
<p>Вопросов при создании собственного хостинга больше чем ответов. Но мы постораемся упорядочить их и ответить на самые важные.<br>
Каждый, кто хочет создать свой хостинг должен понимать, что веб хостинг не принесет прибыль сразу после основания. Наоброт, потребуется запастись финансами, терпением, знанием англиского языка. Это потребуется для изучения документации к панелям управления.<br>
Изучив все приемущества и недостатки каждой, можно приступать к наиболее простому этапу — получение сервера с предустановленной панельью. Однако это не означает что сама задача проста. Наоборот, это самый ответственный этап. Грамотный выбор сервера и площадки для его размещения и понимание того, что панели управления хоть и позволяют начать создание хостинга однако накладывают свои ограничение — все это надо понимать <strong>до начала создания своего хостинга</strong></p>
<h3>Время — это самый ценный ресурс</h3>
<p>Сколько времени планируется уделить хостингу? День за днем, клиенты будут приходить и требовать <em>поддержку</em>. Требовать ее 24 часа в сутки, 7 дней в неделю, по телефонам, ICQ и почте.<br>
Готовы ли Вы сами не спать и заменять собой службу поддержки и менеджеров? Поддержка — это очень важный ключевой аспект для старта собственного хостинга. Так как хостинг — это не место на сервере а прежде всего информационная услуга.<br>
Первый вопрос, на который надо дать себе ответ — смогу ли я оказать поддержку клиентам?</p>
<h3>Знания приходят со временем</h3>
<p>Насколько Вы знакомы с программной и аппаратной частью?<br>
Очень важно быть знакомым с ПО, установленном на дедике, которое используется для хостинга клиентских сайтов. Например, для вебсервера IIS под управлением MS Windows необходимо не просто его установить, а прочитать несколько книг по настройкам как Windows так и IIS. Так же необходимо быть в курсе возможностей, уязвимостей и всегда следить за установкой последних обновлений.<br>
Для создания хостинга на Unix/Linux платформе необходимо уметь управлять системой с помощью консоли и иметь базовые представления о том как работает система.<br>
Конечно, каждая панель управления имеет свой собственнный набор средств для облегчения управлением хостингом, однако это не отменяет требования к знаниям об аппаратной и программной части хостинга.</p>
<h3>Время помноженное на знанание приносит доход</h3>
<p>Для того, что бы что-то заработать сначала необходимо вложить свои деньги, время и знания. Вы готовы вкладывать начальный капитал в долгий путь хостинга? Множество разнообразных вещей потребуют серьезный финансовых вливаний на начальном этапе создания собственного хостинга.<br>
Следует очень хорошо понимать, что аренда сервера хорошего сервера и удобная панель не могут быть дешевыми. А следвательно клиенты хостинга размещение сайтов обойдется не дешево. Множество хостинг компаний размещают сайты клиентов на серьезных серверах вроде Dual Opteron с 16Gb RAM. Для конкуренции с ними потребуется более-менее серьезный выделенный сервер. И Celeron’а с 512Mb RAM будет явно недостаточно.<br>
Другой, недорогой путь — это стать партнером (ресселером) уже известной хостинг компании, взяв у них часть сервера. Это более простой путь для старта своего хостинга и многие известные сейчас хостинг-провайдеры начинали свой путь имено с ресселерства. Это требует минимальных начальных вложений, однако имеет свои недостатки.<br>
Это полное отсутсвие контроля за сервером, невозможность поставить ПО, которое требуют клиенты, риск сбоя, и невозможность перезагрузить сервер или рестартовать упавший сервис. Таким образом под угрозой стоит репутация, самое ценное что есть хостинга.</p>
<h3>Нанимаем сотрудников?</h3>
<p>Вы собираетесь нанимать сотрудников в начале или будете в одиночку поддерживать свой хостинг? Путь одиночки — хорошее решение с финансовой стороны, но требует значительных временных затрат. А время стоит дороже денег.<br>
Отсутствие сотрудников означает что придется решать как технические так и организационные проблемы, и вообще со всеми трудностями придется сражаться в одиночку. Иногда такая битва может положить конец хостингу, и Вы будете проигавшей стороной.</p>
<h3>Не страшно?</h3>
<p>Ну тогда продолжим.</p>
<h3>Регистрация Имени хостинга</h3>
<p>Самое простое что может быть — это придумать название своему хостингу. Необходимо проверить, нет ли уже такого имени, которое зарегестрировано и свободен ли домен с таким именем.<br>
Наиболее простое решение в этом случае — регистрация имени хостинга как своего имени или фамилии для частного лица или же создание бренда из имени своей организации.</p>
<h3>Заказ выделенного сервера</h3>
<p>Вы можете заказать свой сервер и поставить его на площадку провайдера (коло). В этом случае месячная оплата будет ниже чем в случае аренды выделенного сервера, однако следует учесть что сервер — это не персональный компьютер и стоит достаточно дорого, особенно если это бренд.<br>
Каждый Дата Центр, который предоставляет выделенные сервера в аренду или коло так-же предоставляет соеденение с сетью и определенный лимит траффика, пропускную способность или определенное соотношение входящего/исходящего траффика.<br>
У начинающих хостингов сайтов мало и они могут объявить что траффик «неограничен», однако всегда может найтись тот кто сможеть его использовать для перекачки медиа-файлов и исчерпать его полностью.</p>
<h3>ДатаЦентр</h3>
<p>В самом начале сайта стоит описание всех подводных камней, с которыми может встретится владелец выделенного сервера выбрав недобросовестный ДатаЦентр.<br>
Не будем повторяться, только отметим что выбор ДатаЦентра не должен зависит от географического региона, близости офиса или цветастого рекламного буклета.<br>
Некоторые датацентры по сути дела могут представлять набор серверов подключенных к домашней сети или арендованное помещение куда проведены несколько выделеных линий от провайдеров.<br>
В этом случае ни о какой вентиляции, противопожарной безопасности и резервном питании речи и быть не может.</p>
<p>Это только <em>первые шаги</em> создания своего хостинга. Маркетинг хостинга это более сложная часть, онако к выделенным серверам она отношения не имеет. Так же мы не рассматривали аутсорсинг, когда часть работы осуществляется специальными компаниями за определенную оплату — телефонные операторы, удаленные администраторы и многое другое.<br>
Конкурениця большая и потребуется немало дополнительных оригинальных сервисов для привлечения клиентов.</p>
<p><strong>Хостинг — это крепкий орешек, разрызть который под силу не каждому.</strong></p>

		</div>

	</div>

	<div class="section-inner">
		
	</div>

	
</article>
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true">
<article class="post-27 post type-post status-publish format-standard hentry category-1" id="post-27">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Рубрики</span>
				<div class="entry-categories-inner">
					<a href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/" rel="category tag">Наследие</a>				</div>
			</div>

			<h2 class="entry-title heading-size-1"><a href="http://dedic.ru/%d0%be%d0%bf%d1%82%d0%b8%d0%bc%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f-%d1%82%d1%80%d0%b0%d1%84%d0%b8%d0%ba%d0%be%d0%b3%d0%b5%d0%bd%d0%b5%d1%80%d0%b8%d1%80%d1%83%d1%8e%d1%89%d0%b8%d1%85-%d1%81%d0%b5%d1%80/">Оптимизация трафикогенерирующих серверов</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Автор записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							Автор: <a href="http://dedic.ru/author/dedic/">dedic</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Дата записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%be%d0%bf%d1%82%d0%b8%d0%bc%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f-%d1%82%d1%80%d0%b0%d1%84%d0%b8%d0%ba%d0%be%d0%b3%d0%b5%d0%bd%d0%b5%d1%80%d0%b8%d1%80%d1%83%d1%8e%d1%89%d0%b8%d1%85-%d1%81%d0%b5%d1%80/">15.06.2005</a>
						</span>
					</li>
										<li class="post-comment-link meta-wrapper">
						<span class="meta-icon">
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%be%d0%bf%d1%82%d0%b8%d0%bc%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f-%d1%82%d1%80%d0%b0%d1%84%d0%b8%d0%ba%d0%be%d0%b3%d0%b5%d0%bd%d0%b5%d1%80%d0%b8%d1%80%d1%83%d1%8e%d1%89%d0%b8%d1%85-%d1%81%d0%b5%d1%80/#respond">Комментариев<span class="screen-reader-text"> к записи Оптимизация трафикогенерирующих серверов</span> нет</a>						</span>
					</li>
					
			</ul>

		</div>

		
	</div>

</header>

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>Владельцам выделенных серверов под трафикогенерирующие проекты вроде популярных форумов хорошо известна проблема, связанная с лимитом <em>веб-сервера Apache</em> и перегрузкой сервера в связи с повышением лимита одновременных подключений.<br>
Возникает замкнутый круг — с одной стороны, apache исчерпав лимит подключений, будет отвергать коннект от новых посетителей, с другой стороны, динамические страницы, которые генерируются скриптами, способны перегрузить сервер при большом числе одновременных подключений. И посетители также будут потеряны.</p>
<p>Конечно, можно избежать этих проблем, заменив сервер на более мощный, однако это руководство поможет увеличить приток трафика без дополнительного оборудования.<br>
<br>
Проблемы, с которыми сталкиваются владельцы трафикогонных серверов, достаточно типизированы.<br>
Это прежде всего <strong>проблема активного свопа</strong>, когда жесткий диск используется процессами, требующими слишком много оперативной памяти.<br>
Это <strong>загрузка CPU</strong>, которая возникает из-за плохо оптимизированных скриптов и баз данных.<br>
И, наконец, <strong>сетевые проблемы</strong> — ограничения, накладываемые железом, и разного рода атаки.</p>
<p>Для проверки сервера можно использовать такие утилиты, как <code>vmstat, top, ps, netstat</code>. Они позволяют выявить причины низкого КПД сервера — утилизация CPU, памяти, системы ввода/вывода или сеть.</p>
<p>Типичная проблема — это активное использование оперативной памяти веб-сервером apache. При запуске команд <code>ps ax</code> или <code>top</code> сразу можно увидеть, как процессы apache отнимают память. Эта, на первый взгляд, незначительная проблема может стать значительной, после того как apache вытеснит все процессы в своп и в результате сервер будет настолько загружен, что придется его перезапускать.</p>
<p>Если веб-сервер служит для отдачи статической информации, то каждый процесс apache занимает 2-3 Mb памяти.<br>
Если же сервер содержит 99% статической и информации и 1% динамической, то каждый процесс занимает 3-20 Mb, комплексно завися от наиболее частовызываемых динамических страниц.<br>
Это происходит, потому при выполнении скриптов память увеличивается и не возвращается к изначальному состоянию, когда скрипт отработал. Если сервер генерирует много трафика и содержит в себе большинство динамических страниц, стоит подумать о замене их предгенеренными статическими страницами, производством которых будет заниматься отдельный процесс (демон).</p>
<p>Также следует обратить внимание на опцию KeepAlive. Это неоднозначный параметр. С одной стороны, он позволяет обработать одному процессу несколько запросов, а с другой стороны, за считанные секунды разрастается и занимает очень много памяти. Однако KeepAlive позволяет ускорить загрузку страниц, особенно когда они содержат много статических файлов вроде картинок.<br>
Разумным решением в этом случае будет включить KeepAlive и ограничить время 1-2 секундами (с помощью параметра KeepAliveTimeout).</p>
<p>Лимит одновременных подключений к apache MaxClients.<br>
Если apache используется для отдачи динамического контента, то число одновременных подключений следует увеличивать крайне осторожно, так как может произойти активный своп, резкое падение скорости и, в конце концов, apache упадет.<br>
Для предотвращения такой ситуации необходимо выполнить ряд мер.<br>
Сначала нужно выставить <a href="/dedic/node/7">максимально возможное число подключений к apache</a>, а также опытным путем с помощью бенчмаркинга <code>ab</code> выставить StartServers, MinSpareServers и MaxSpareServers. Затем определить убийство процесса при превышении одновременных подключений с помощью MaxRequestsPerChild. Это уменьшит вероятность того, что скрипт исчерпает всю память. Последний параметр наиболее неоднозначный, так как с его помощью можно значительно уменьшить расход памяти, но в то же время неправильные настройки способны вызвать активный своп.</p>
<p>Обычно ограничение одновременных подключений в 20 дает неплохой результат, однако оно не фиксировано и зависит от состояния сервера. Необходимо самостоятельно определить оптимальное значение, изучая вывод команды <code>ps axu --sort:rss</code>.<br>
Результаты могут быть ошеломляющие, но, к сожалению, непостоянные. Необходимо следить за сервером и помнить, что перед тем, как увеличить MaxRequestsPerChild, стоит увеличить MaxClients.</p>
<p>При размещении нескольких трафикогенерирующих сайтов вроде галерей, сайтов для загрузки файлов и т.п. можно расширить за счет параллельной обработки сайта несколькими веб-серверами, а также за счет <a href="/dedic/node/39">кэширования</a>.<br>
Путь параллельной обработки заключен в использовании более легких веб-серверов для отдачи статического контента – картинок, html страниц и т.п., в то время как apache будет обрабатывать динамические страницы и php скрипты.<br>
Неплохим выбором легкого веб-сервера будет:</p>
<ul>
<li><a href="https://www.redhat.com/docs/manuals/tux">TUX;</a></li>
<li><a href="http://www.fenrus.demon.nl">kHTTPd;</a></li>
<li><a href="http://www.acme.com/software/thttpd">thttpd;</a></li>
<li><a href="http://www.sysoev.ru/nginx">nginx.</a></li>
</ul>
<p>К недостаткам такого метода следует отнести невозможность обработки файлов .htaccess со всеми вытекающими последствиями: паролированием, правилами для mod_rewrite и т.п.<br>
Для решения этой проблемы придется отказаться от .htaccess и все директивы прописывать в виртуальном хосте Apache.</p>
<p>Оптимальный путь – это генерация статических страниц и замена apache на более легкий веб-сервер.<br>
Для реализации этого механизма необходимо использовать Apache только внутри сервера, периодически обновляя динамические страницы, например, с помощью wget . Отдачу же следует производить веб-серверами, которые не используют блокировку операций ввода-вывода и обрабатывают все запросы в одном процессе:</p>
<ul>
<li><a href="http://www.acme.com/software/thttpd">thttpd;</a></li>
<li><a href="http://caudium.net">Caudium;</a></li>
<li><a href="http://www.roxen.com/products/webserver">Roxen;</a></li>
<li><a href="http://www.zeus.co.uk">Zeus.</a></li>
</ul>
<p>Решением для оптимизации PHP скриптов может служить любой php-акселератор, например, <strong>Turck MMCache</strong>, который, кстати, используется на этом сервере. Кроме него существуют также и другие php-акселераторы: APC, Zend и пр. Использование акселераторов даст возможность увеличить скорость отдачи php-скриптов, уменьшение загрузки CPU, однако это потребует расхода памяти для хранения кэшированых скриптов.<br>
Для оптимизации базы данных прежде всего необходимо выяснить, что же приводит к замедлению – неправильная конфигурация или отдельные неоптимизированные запросы. Следует учесть, что один такой запрос, отнимающий 5% CPU и 5% памяти, может привести к катастрофическим последствиям в случае одновременного вызова сотни-другой таких запросов. Для поиска медленных запросов поможет опция <code>log-slow-queries=/var/log/slow.log</code>, которую необходимо добавить в файл настроек mysql — <code>/etc/my.cnf</code>, и перезапустить mysql.<br>
После чего необходимо проанализировать медленные запросы и оптимизировать их.</p>
<p>Производительность можно повысить только комплексным методом. В руководстве уделено внимание именно такому подходу. Если Вы не знаете некоторых нюансов, не стесняйтесь спрашивать.</p>

		</div>

	</div>

	<div class="section-inner">
		
	</div>

	
</article>
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true">
<article class="post-26 post type-post status-publish format-standard hentry category-1" id="post-26">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Рубрики</span>
				<div class="entry-categories-inner">
					<a href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/" rel="category tag">Наследие</a>				</div>
			</div>

			<h2 class="entry-title heading-size-1"><a href="http://dedic.ru/%d0%b2%d0%be%d1%81%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d1%80%d0%b0%d0%b2-%d0%bd%d0%b0-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8c/">Восстановление прав на пользовательские директории</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Автор записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							Автор: <a href="http://dedic.ru/author/dedic/">dedic</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Дата записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%b2%d0%be%d1%81%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d1%80%d0%b0%d0%b2-%d0%bd%d0%b0-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8c/">24.05.2005</a>
						</span>
					</li>
										<li class="post-comment-link meta-wrapper">
						<span class="meta-icon">
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%b2%d0%be%d1%81%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d1%80%d0%b0%d0%b2-%d0%bd%d0%b0-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8c/#respond">Комментариев<span class="screen-reader-text"> к записи Восстановление прав на пользовательские директории</span> нет</a>						</span>
					</li>
					
			</ul>

		</div>

		
	</div>

</header>

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>Очень часто после восстановления из бэкапов «теряются» владельцы файлов. Особенно этим страдает cPanel. Симптомы — не работают запароленные .htaccess, не подходят пароли к ftp и т.п.</p>
<p>Для быстрого восстановления необходимо выполнить следующие команды под суперпользователем в оболочке bash:<br>
<code><br>
cd /home<br>
for i in `ls`; do chown -R $i $i; done<br>
</code></p>

		</div>

	</div>

	<div class="section-inner">
		
	</div>

	
</article>
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true">
<article class="post-23 post type-post status-publish format-standard hentry category-1" id="post-23">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Рубрики</span>
				<div class="entry-categories-inner">
					<a href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/" rel="category tag">Наследие</a>				</div>
			</div>

			<h2 class="entry-title heading-size-1"><a href="http://dedic.ru/%d1%8d%d0%ba%d1%81%d1%82%d1%80%d0%b5%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b1%d1%8d%d0%ba%d0%b0%d0%bf-%d0%b2%d1%81%d0%b5%d1%85-%d0%b0%d0%ba%d0%ba%d0%b0%d1%83%d0%bd%d1%82%d0%be%d0%b2/">Экстренный бэкап всех аккаунтов</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Автор записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							Автор: <a href="http://dedic.ru/author/dedic/">dedic</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Дата записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d1%8d%d0%ba%d1%81%d1%82%d1%80%d0%b5%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b1%d1%8d%d0%ba%d0%b0%d0%bf-%d0%b2%d1%81%d0%b5%d1%85-%d0%b0%d0%ba%d0%ba%d0%b0%d1%83%d0%bd%d1%82%d0%be%d0%b2/">14.05.2005</a>
						</span>
					</li>
										<li class="post-comment-link meta-wrapper">
						<span class="meta-icon">
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d1%8d%d0%ba%d1%81%d1%82%d1%80%d0%b5%d0%bd%d0%bd%d1%8b%d0%b9-%d0%b1%d1%8d%d0%ba%d0%b0%d0%bf-%d0%b2%d1%81%d0%b5%d1%85-%d0%b0%d0%ba%d0%ba%d0%b0%d1%83%d0%bd%d1%82%d0%be%d0%b2/#respond">Комментариев<span class="screen-reader-text"> к записи Экстренный бэкап всех аккаунтов</span> нет</a>						</span>
					</li>
					
			</ul>

		</div>

		
	</div>

</header>

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>Если выделенному серверу грозит отключение или выход из строя, самое главное — не паниковать. Необходимо создать ftp-аккаунт где-то на резервном сервере и скопировать туда все аккаунты.</p>
<p>Приступаем к созданию резервных копий:<br>
<code>for i in `ls /home/`; do [ -d "/home/$i" ] && /scripts/pkgacct `basename $i /`; done</code><br>
А теперь быстро закачиваем их на резервный сервер:<br>
<code>ncftpput -u <strong>логин</strong> -p <strong>пароль</strong> <strong>хости</strong> ./ /home/*.gz</code>.</p>

		</div>

	</div>

	<div class="section-inner">
		
	</div>

	
</article>
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true">
<article class="post-17 post type-post status-publish format-standard hentry category-1" id="post-17">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Рубрики</span>
				<div class="entry-categories-inner">
					<a href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/" rel="category tag">Наследие</a>				</div>
			</div>

			<h2 class="entry-title heading-size-1"><a href="http://dedic.ru/%d0%bf%d0%b5%d1%80%d0%b5%d0%bd%d0%be%d1%81-%d0%b0%d0%ba%d0%ba%d0%b0%d1%83%d0%bd%d1%82%d0%be%d0%b2-%d0%b8%d0%b7-direct-admin-%d0%b2-whm-cpanel/">Перенос аккаунтов из Direct Admin в WHM/cPanel</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Автор записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							Автор: <a href="http://dedic.ru/author/dedic/">dedic</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Дата записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%bf%d0%b5%d1%80%d0%b5%d0%bd%d0%be%d1%81-%d0%b0%d0%ba%d0%ba%d0%b0%d1%83%d0%bd%d1%82%d0%be%d0%b2-%d0%b8%d0%b7-direct-admin-%d0%b2-whm-cpanel/">19.04.2005</a>
						</span>
					</li>
										<li class="post-comment-link meta-wrapper">
						<span class="meta-icon">
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%bf%d0%b5%d1%80%d0%b5%d0%bd%d0%be%d1%81-%d0%b0%d0%ba%d0%ba%d0%b0%d1%83%d0%bd%d1%82%d0%be%d0%b2-%d0%b8%d0%b7-direct-admin-%d0%b2-whm-cpanel/#respond">Комментариев<span class="screen-reader-text"> к записи Перенос аккаунтов из Direct Admin в WHM/cPanel</span> нет</a>						</span>
					</li>
					
			</ul>

		</div>

		
	</div>

</header>

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>Скрипт для переноса учетных записей из DirectAdmin в cPanel, написаный SkyHorse.<br>
<br>
На данный момент не существует готовых надежных решений по переносу сайтов из Directadmin в cPanel, скрипт служит только частичным решением.<br>
Скрипт работает с файлами в каталогах <cite>backup</cite> и <cite>domains</cite>.<br>
После обработки скриптом файл tar.gz необходимо развернуть, только на новом аккаунте в cPanel.<br>
Скрипт позволяет перенести:</p>
<ul>
<li>квоты;
</li><li>почту IMAP;
</li><li>настройки squirrelmail;
</li><li>все каталоги сайтов из стиля DirecAdmin в стиль cPanel.
</li></ul>
<p>Скрипт не переносит:</p>
<ul>
<li>FTP;
</li><li>субдомены;
</li><li>DNS записи;
</li><li>все остальное.
</li></ul>
<p>Следует учитывать, что архивы не сохраняют разрешений на файлы, и их придется выставлять после распаковки. Почтовые ящики требуют разрешения на запись группе.</p>
<p>Сам скрипт:<br>
<code><br>
# bash<br>
# Copyleft (C) SkyHorse 2004<br>
# for each account:<br>
# put passwd as passwd + shadow<br>
# quota (if != 0)<br>
# into ~/etc/%domain%<br>
GENDOMAIN=domain.com<br>
GENUSERNAME=accuser<br>
NEWACCPASS=accpass<br>
MYFILESPATH=/home/skyhorse/temp_sites</code></p>
<p>mkdir result<br>
mkdir result/mail<br>
mkdir result/mail/$GENDOMAIN<br>
mkdir result/etc<br>
mkdir result/etc/$GENDOMAIN</p>
<p>cp $MYFILESPATH/$GENUSERNAME/backup/$GENDOMAIN/email/quota result/etc/quota<br>
chmod 644 result/etc/quota</p>
<p>touch result/etc/shadow<br>
chmod 640 result/etc/shadow</p>
<p>touch result/etc/passwd<br>
chmod 644 result/etc/passwd</p>
<p>chmod 660 $MYFILESPATH/$GENUSERNAME/backup/email_data/imap/*<br>
cp $MYFILESPATH/$GENUSERNAME/backup/email_data/imap/* result/mail<br>
cp $MYFILESPATH/$GENUSERNAME/backup/email_data/pop/$GENUSERNAME result/mail/inbox<br>
chmod 660 result/mail/inbox</p>
<p>mkdir result/.sqmaildata<br>
cp $MYFILESPATH/$GENUSERNAME/backup/email_data/squirrelmail/* result/.sqmaildata</p>
<p>ENTRY=`cat $MYFILESPATH/$GENUSERNAME/backup/$GENDOMAIN/email/passwd`<br>
for line in $ENTRY<br>
do<br>
login=`echo $line | sed s/[:].*//`<br>
pass=`echo $line | sed s/.*[:]//`<br>
mkdir result/mail/$GENDOMAIN/$login<br>
mkdir result/mail/$login</p>
<p>echo $login:x:32120:622::/home/$GENUSERNAME/mail/$GENDOMAIN/$login:/usr/local/cpanel/bin/noshell >> result/etc/passwd<br>
echo $login:$pass::::::: >> result/etc/shadow</p>
<p>chmod 750 result/mail/$GENDOMAIN/$login<br>
cp $MYFILESPATH/$GENUSERNAME/backup/$GENDOMAIN/email/data/pop/$login result/mail/$GENDOMAIN/$login/inbox<br>
chmod 660 result/mail/$GENDOMAIN/$login/inbox</p>
<p>cp $MYFILESPATH/$GENUSERNAME/backup/$GENDOMAIN/email/data/imap/$login/.mailboxlist result/mail/$GENDOMAIN/$login/<br>
cp $MYFILESPATH/$GENUSERNAME/backup/$GENDOMAIN/email/data/imap/$login/mail/* result/mail/$GENDOMAIN/$login/</p>
<p>touch result/mail/$login/inbox<br>
chmod 660 result/mail/$login/inbox<br>
done</p>
<p>cp result/etc/* result/etc/$GENDOMAIN/</p>
<p>#domain files<br>
cd domains/$GENDOMAIN<br>
#update file references - this one liner deletes domains/domain.net in every file of the tree.<br>
# efectively changes:<br>
#/home/username/domains/domain.net/public_html into<br>
#/home/username/public_html<br>
find ./ -type f -exec sed -i 's/domains\/$GENDOMAIN\///' {} \;</p>
<p>cp -R * ../../result<br>
cd ../../result</p>
<p>tar --owner=$GENUSERNAME --group=$GENUSERNAME -czf ../$GENUSERNAME-$GENDOMAIN.tar.gz *<br>
cd ..</p>
<p>#upload tar.gz<br>
#I have ncftpput installed, but because most people don't, I've commented it out<br>
#ncftpput -u $GENUSERNAME -p $NEWACCPASS localhost / $GENUSERNAME-$GENDOMAIN.tar.gz</p>
<p>#database:</p>
<p>#mysql</p>
<p>#subdomains</p>
<p>#ftp</p>
<p></p>

		</div>

	</div>

	<div class="section-inner">
		
	</div>

	
</article>
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true">
<article class="post-16 post type-post status-publish format-standard hentry category-1" id="post-16">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Рубрики</span>
				<div class="entry-categories-inner">
					<a href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/" rel="category tag">Наследие</a>				</div>
			</div>

			<h2 class="entry-title heading-size-1"><a href="http://dedic.ru/%d0%bf%d0%b5%d1%80%d0%b5%d0%bd%d0%be%d1%81-%d0%b0%d0%ba%d0%ba%d0%b0%d1%83%d0%bd%d1%82%d0%be%d0%b2-%d0%b8%d0%b7-whm-cpanel-%d0%b2-direct-admin/">Перенос аккаунтов из WHM/cPanel в Direct Admin</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Автор записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							Автор: <a href="http://dedic.ru/author/dedic/">dedic</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Дата записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%bf%d0%b5%d1%80%d0%b5%d0%bd%d0%be%d1%81-%d0%b0%d0%ba%d0%ba%d0%b0%d1%83%d0%bd%d1%82%d0%be%d0%b2-%d0%b8%d0%b7-whm-cpanel-%d0%b2-direct-admin/">18.04.2005</a>
						</span>
					</li>
										<li class="post-comment-link meta-wrapper">
						<span class="meta-icon">
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%bf%d0%b5%d1%80%d0%b5%d0%bd%d0%be%d1%81-%d0%b0%d0%ba%d0%ba%d0%b0%d1%83%d0%bd%d1%82%d0%be%d0%b2-%d0%b8%d0%b7-whm-cpanel-%d0%b2-direct-admin/#respond">Комментариев<span class="screen-reader-text"> к записи Перенос аккаунтов из WHM/cPanel в Direct Admin</span> нет</a>						</span>
					</li>
					
			</ul>

		</div>

		
	</div>

</header>

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>Для переноса аккаунтов есть специальный скрипт, написаный <a href="http://www.l0rdphi1.com">Phil</a>‘ом. Этот скрипт позволяет конвертировать резервную копию аккаунта cPanel в аккаунт Direct Admin.<br>
<br>
Резервная копия аккаунта может быть выполнена как из командной строки: <code>/scripts/pkgacct</code>, так и с помощью веб-интерфейса WHM.<br>
Скрипт может быть запущен как на сервере с DirectAdmin так и на сервере с cPanel.<br>
Когда скрипт запускается на сервере с cPanel, то может дополнительно перенести новый архив в формате DirectAdmin на сервер в домашний (реселлерский) каталог на сервере (<code>/home/{reseller}/user_backups</code>) DA server directory.</p>
<p>Установка:<br>
<code><br>
wget <a href="http://www.l0rdphi1.com/tools/da.cpanel.import.tar.gz">http://www.l0rdphi1.com/tools/da.cpanel.import.tar.gz</a><br>
tar zxf da.cpanel.import.tar.gz<br>
mkdir import export</code><br>
Необходимо изменить конфигурационный файл <code>defaults.conf</code>, иначе скрипт работать не будет. Далее <code>perl da.cpanel.import.pl</code> и следовать инструкциям в диалоговом режиме.</p>
<p>Скрипт, по словам разработчика, способен перенести: сам аккаунт, субдомены, ftp-аккаунты, pop3-ящики, дополнительные домены и их файлы, базы mysql, паркованные домены и задачи crontab.</p>

		</div>

	</div>

	<div class="section-inner">
		
	</div>

	
</article>
<hr class="post-separator styled-separator is-style-wide section-inner" aria-hidden="true">
<article class="post-10 post type-post status-publish format-standard hentry category-1" id="post-10">

	
<header class="entry-header has-text-align-center">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Рубрики</span>
				<div class="entry-categories-inner">
					<a href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/" rel="category tag">Наследие</a>				</div>
			</div>

			<h2 class="entry-title heading-size-1"><a href="http://dedic.ru/%d0%b4%d0%b5%d1%82%d0%b5%d0%ba%d1%82%d0%b8%d1%80%d1%83%d0%b5%d0%bc-%d0%bf%d0%be%d0%bf%d1%8b%d1%82%d0%ba%d0%b8-%d1%81%d0%bf%d0%b0%d0%bc%d0%b0-%d1%87%d0%b5%d1%80%d0%b5%d0%b7-php-cgi-%d1%81%d0%ba%d1%80/">Детектируем попытки спама через php/cgi скрипты.</a></h2>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Автор записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							Автор: <a href="http://dedic.ru/author/dedic/">dedic</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Дата записи</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%b4%d0%b5%d1%82%d0%b5%d0%ba%d1%82%d0%b8%d1%80%d1%83%d0%b5%d0%bc-%d0%bf%d0%be%d0%bf%d1%8b%d1%82%d0%ba%d0%b8-%d1%81%d0%bf%d0%b0%d0%bc%d0%b0-%d1%87%d0%b5%d1%80%d0%b5%d0%b7-php-cgi-%d1%81%d0%ba%d1%80/">11.04.2005</a>
						</span>
					</li>
										<li class="post-comment-link meta-wrapper">
						<span class="meta-icon">
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="http://dedic.ru/%d0%b4%d0%b5%d1%82%d0%b5%d0%ba%d1%82%d0%b8%d1%80%d1%83%d0%b5%d0%bc-%d0%bf%d0%be%d0%bf%d1%8b%d1%82%d0%ba%d0%b8-%d1%81%d0%bf%d0%b0%d0%bc%d0%b0-%d1%87%d0%b5%d1%80%d0%b5%d0%b7-php-cgi-%d1%81%d0%ba%d1%80/#respond">Комментариев<span class="screen-reader-text"> к записи Детектируем попытки спама через php/cgi скрипты.</span> нет</a>						</span>
					</li>
					
			</ul>

		</div>

		
	</div>

</header>

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>Среди проблем, связанных со спамом, самой важной является своевременное отключение скриптов/учетных записей, которые рассылают скрипт.<br>
<br>
Определить такие скрипты поможет собственный лог апача, который анализирует попытки частого обращения к скриптам, носящим провокационные названия вроде spam.cgi, sent.php и т.п.</p>
<p>Рассмотрим пример для записи в лог всех обращений к такому скрипту. Добавим в конфиг апача<br>
<code><br>
LogFormat "%h %l %u %t \"%v %r\" %>s %b" spamlog<br>
SetEnvIf Request_URI "[S,s][E,e][N,n][T,t]" spam<br>
SetEnvIf Request_URI "[S,s][P,p][A,a][M,m]" spam<br>
CustomLog logs/spam.log spamlog env=spam<br>
</code></p>
<p>Это даст возможность протоколировать обращения к ссылкам, где встречаются слова sent или spam (без учета регистра).<br>
Следует обратить внимание на %v в описании LogFormat, так как это дает возможность записать в лог информацию о виртуальном хосте.<br>
Таким образом, несложно написать парсер, который при превышении лимита к такой ссылке — например, 10 обращений в секунду, — блокировал бы ее.</p>

		</div>

	</div>

	<div class="section-inner">
		
	</div>

	
</article>

	
	<div class="pagination-wrapper section-inner">

		<hr class="styled-separator pagination-separator is-style-wide" aria-hidden="true">

		
	<nav class="navigation pagination" role="navigation" aria-label="Записи">
		<h2 class="screen-reader-text">Навигация по записям</h2>
		<div class="nav-links"><a class="prev page-numbers" href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/page/4/"><span aria-hidden="true">←</span> <span class="nav-prev-text">Новые <span class="nav-short">записи</span></span></a>
<a class="page-numbers" href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/">1</a>
<span class="page-numbers dots">…</span>
<a class="page-numbers" href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/page/4/">4</a>
<span aria-current="page" class="page-numbers current">5</span>
<a class="page-numbers" href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/page/6/">6</a>
<a class="next page-numbers" href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/page/6/"><span class="nav-next-text">Предыдущие <span class="nav-short">записи</span></span> <span aria-hidden="true">→</span></a></div>
	</nav>
	</div>

	
</main>


	<div class="footer-nav-widgets-wrapper header-footer-group">

		<div class="footer-inner section-inner">

			
			
				<aside class="footer-widgets-outer-wrapper" role="complementary">

					<div class="footer-widgets-wrapper">

						
							<div class="footer-widgets column-one grid-item">
								<div class="widget widget_archive"><div class="widget-content"><h2 class="widget-title subheading heading-size-3">Архивы</h2>		<ul>
				<li><a href="http://dedic.ru/2013/01/">Январь 2013</a></li>
	<li><a href="http://dedic.ru/2011/08/">Август 2011</a></li>
	<li><a href="http://dedic.ru/2010/03/">Март 2010</a></li>
	<li><a href="http://dedic.ru/2009/03/">Март 2009</a></li>
	<li><a href="http://dedic.ru/2009/02/">Февраль 2009</a></li>
	<li><a href="http://dedic.ru/2009/01/">Январь 2009</a></li>
	<li><a href="http://dedic.ru/2007/05/">Май 2007</a></li>
	<li><a href="http://dedic.ru/2007/03/">Март 2007</a></li>
	<li><a href="http://dedic.ru/2007/01/">Январь 2007</a></li>
	<li><a href="http://dedic.ru/2006/11/">Ноябрь 2006</a></li>
	<li><a href="http://dedic.ru/2006/10/">Октябрь 2006</a></li>
	<li><a href="http://dedic.ru/2006/09/">Сентябрь 2006</a></li>
	<li><a href="http://dedic.ru/2006/08/">Август 2006</a></li>
	<li><a href="http://dedic.ru/2006/06/">Июнь 2006</a></li>
	<li><a href="http://dedic.ru/2006/05/">Май 2006</a></li>
	<li><a href="http://dedic.ru/2006/04/">Апрель 2006</a></li>
	<li><a href="http://dedic.ru/2006/03/">Март 2006</a></li>
	<li><a href="http://dedic.ru/2006/01/">Январь 2006</a></li>
	<li><a href="http://dedic.ru/2005/12/">Декабрь 2005</a></li>
	<li><a href="http://dedic.ru/2005/11/">Ноябрь 2005</a></li>
	<li><a href="http://dedic.ru/2005/10/">Октябрь 2005</a></li>
	<li><a href="http://dedic.ru/2005/09/">Сентябрь 2005</a></li>
	<li><a href="http://dedic.ru/2005/08/">Август 2005</a></li>
	<li><a href="http://dedic.ru/2005/07/">Июль 2005</a></li>
	<li><a href="http://dedic.ru/2005/06/">Июнь 2005</a></li>
	<li><a href="http://dedic.ru/2005/05/">Май 2005</a></li>
	<li><a href="http://dedic.ru/2005/04/">Апрель 2005</a></li>
		</ul>
			</div></div>							</div>

						
						
							<div class="footer-widgets column-two grid-item">
								<div class="widget widget_categories"><div class="widget-content"><h2 class="widget-title subheading heading-size-3">Рубрики</h2>		<ul>
				<li class="cat-item cat-item-3"><a href="http://dedic.ru/category/%d0%bc%d1%83%d1%81%d0%be%d1%80%d0%ba%d0%b0/">Мусорка</a>
</li>
	<li class="cat-item cat-item-1 current-cat"><a aria-current="page" href="http://dedic.ru/category/%d0%bd%d0%b0%d1%81%d0%bb%d0%b5%d0%b4%d0%b8%d0%b5/">Наследие</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://dedic.ru/category/%d1%81%d1%82%d0%b0%d1%80%d1%8c%d0%b5/">Старье</a>
</li>
		</ul>
			</div></div>							</div>

						
					</div>

				</aside>

			
		</div>

	</div>


			<footer id="site-footer" role="contentinfo" class="header-footer-group">

				<div class="section-inner">

					<div class="footer-credits">

						<p class="footer-copyright">©
							2020							<a href="http://dedic.ru/">DEDIC.RU: наследие об организации хостинга</a>
						</p>

						<p class="powered-by-wordpress">
							<a href="https://ru.wordpress.org/">
								Сайт работает на WordPress							</a>
						</p>

					</div>

					<a class="to-the-top" href="#site-header">
						<span class="to-the-top-long">
							Наверх <span class="arrow" aria-hidden="true">↑</span>						</span>
						<span class="to-the-top-short">
							Вверх <span class="arrow" aria-hidden="true">↑</span>						</span>
					</a>

				</div>

			</footer>

			<script>
	/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);
	</script>
	
	</body>
</html>
